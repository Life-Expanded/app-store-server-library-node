"use strict";
// Copyright (c) 2023 Apple Inc. Licensed under MIT License.
Object.defineProperty(exports, "__esModule", { value: true });
exports.JWSRenewalInfoDecodedPayloadValidator = void 0;
const AutoRenewStatus_1 = require("./AutoRenewStatus");
const Environment_1 = require("./Environment");
const ExpirationIntent_1 = require("./ExpirationIntent");
const OfferType_1 = require("./OfferType");
const PriceIncreaseStatus_1 = require("./PriceIncreaseStatus");
class JWSRenewalInfoDecodedPayloadValidator {
    validate(obj) {
        if ((typeof obj['expirationIntent'] !== 'undefined') && !(JWSRenewalInfoDecodedPayloadValidator.expirationIntentValidator.validate(obj['expirationIntent']))) {
            return false;
        }
        if ((typeof obj['originalTransactionId'] !== 'undefined') && !(typeof obj['originalTransactionId'] === "string" || obj['originalTransactionId'] instanceof String)) {
            return false;
        }
        if ((typeof obj['autoRenewProductId'] !== 'undefined') && !(typeof obj['autoRenewProductId'] === "string" || obj['autoRenewProductId'] instanceof String)) {
            return false;
        }
        if ((typeof obj['productId'] !== 'undefined') && !(typeof obj['productId'] === "string" || obj['productId'] instanceof String)) {
            return false;
        }
        if ((typeof obj['autoRenewStatus'] !== 'undefined') && !(JWSRenewalInfoDecodedPayloadValidator.autoRenewStatusValidator.validate(obj['autoRenewStatus']))) {
            return false;
        }
        if ((typeof obj['isInBillingRetryPeriod'] !== 'undefined') && !(typeof obj['isInBillingRetryPeriod'] === "boolean" || obj['isInBillingRetryPeriod'] instanceof Boolean)) {
            return false;
        }
        if ((typeof obj['priceIncreaseStatus'] !== 'undefined') && !(JWSRenewalInfoDecodedPayloadValidator.priceIncreaseStatusValidator.validate(obj['priceIncreaseStatus']))) {
            return false;
        }
        if ((typeof obj['gracePeriodExpiresDate'] !== 'undefined') && !(typeof obj['gracePeriodExpiresDate'] === "number")) {
            return false;
        }
        if ((typeof obj['offerType'] !== 'undefined') && !(JWSRenewalInfoDecodedPayloadValidator.offerTypeValidator.validate(obj['offerType']))) {
            return false;
        }
        if ((typeof obj['offerIdentifier'] !== 'undefined') && !(typeof obj['offerIdentifier'] === "string" || obj['offerIdentifier'] instanceof String)) {
            return false;
        }
        if ((typeof obj['signedDate'] !== 'undefined') && !(typeof obj['signedDate'] === "number")) {
            return false;
        }
        if ((typeof obj['environment'] !== 'undefined') && !(JWSRenewalInfoDecodedPayloadValidator.environmentValidator.validate(obj['environment']))) {
            return false;
        }
        if ((typeof obj['recentSubscriptionStartDate'] !== 'undefined') && !(typeof obj['recentSubscriptionStartDate'] === 'number')) {
            return false;
        }
        if ((typeof obj['renewalDate'] !== 'undefined') && !(typeof obj['renewalDate'] === 'number')) {
            return false;
        }
        return true;
    }
}
exports.JWSRenewalInfoDecodedPayloadValidator = JWSRenewalInfoDecodedPayloadValidator;
JWSRenewalInfoDecodedPayloadValidator.environmentValidator = new Environment_1.EnvironmentValidator();
JWSRenewalInfoDecodedPayloadValidator.offerTypeValidator = new OfferType_1.OfferTypeValidator();
JWSRenewalInfoDecodedPayloadValidator.priceIncreaseStatusValidator = new PriceIncreaseStatus_1.PriceIncreaseStatusValidator();
JWSRenewalInfoDecodedPayloadValidator.autoRenewStatusValidator = new AutoRenewStatus_1.AutoRenewStatusValidator();
JWSRenewalInfoDecodedPayloadValidator.expirationIntentValidator = new ExpirationIntent_1.ExpirationIntentValidator();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiSldTUmVuZXdhbEluZm9EZWNvZGVkUGF5bG9hZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL21vZGVscy9KV1NSZW5ld2FsSW5mb0RlY29kZWRQYXlsb2FkLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSw0REFBNEQ7OztBQUU1RCx1REFBNkU7QUFFN0UsK0NBQWlFO0FBQ2pFLHlEQUFnRjtBQUNoRiwyQ0FBMkQ7QUFDM0QsK0RBQXlGO0FBOEd6RixNQUFhLHFDQUFxQztJQU05QyxRQUFRLENBQUMsR0FBUTtRQUNiLElBQUksQ0FBQyxPQUFPLEdBQUcsQ0FBQyxrQkFBa0IsQ0FBQyxLQUFLLFdBQVcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxxQ0FBcUMsQ0FBQyx5QkFBeUIsQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLGtCQUFrQixDQUFDLENBQUMsQ0FBQyxFQUFFO1lBQzFKLE9BQU8sS0FBSyxDQUFBO1NBQ2Y7UUFDRCxJQUFJLENBQUMsT0FBTyxHQUFHLENBQUMsdUJBQXVCLENBQUMsS0FBSyxXQUFXLENBQUMsSUFBSSxDQUFDLENBQUMsT0FBTyxHQUFHLENBQUMsdUJBQXVCLENBQUMsS0FBSyxRQUFRLElBQUksR0FBRyxDQUFDLHVCQUF1QixDQUFDLFlBQVksTUFBTSxDQUFDLEVBQUU7WUFDaEssT0FBTyxLQUFLLENBQUE7U0FDZjtRQUNELElBQUksQ0FBQyxPQUFPLEdBQUcsQ0FBQyxvQkFBb0IsQ0FBQyxLQUFLLFdBQVcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxPQUFPLEdBQUcsQ0FBQyxvQkFBb0IsQ0FBQyxLQUFLLFFBQVEsSUFBSSxHQUFHLENBQUMsb0JBQW9CLENBQUMsWUFBWSxNQUFNLENBQUMsRUFBRTtZQUN2SixPQUFPLEtBQUssQ0FBQTtTQUNmO1FBQ0QsSUFBSSxDQUFDLE9BQU8sR0FBRyxDQUFDLFdBQVcsQ0FBQyxLQUFLLFdBQVcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxPQUFPLEdBQUcsQ0FBQyxXQUFXLENBQUMsS0FBSyxRQUFRLElBQUksR0FBRyxDQUFDLFdBQVcsQ0FBQyxZQUFZLE1BQU0sQ0FBQyxFQUFFO1lBQzVILE9BQU8sS0FBSyxDQUFBO1NBQ2Y7UUFDRCxJQUFJLENBQUMsT0FBTyxHQUFHLENBQUMsaUJBQWlCLENBQUMsS0FBSyxXQUFXLENBQUMsSUFBSSxDQUFDLENBQUMscUNBQXFDLENBQUMsd0JBQXdCLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDLENBQUMsRUFBRTtZQUN2SixPQUFPLEtBQUssQ0FBQTtTQUNmO1FBQ0QsSUFBSSxDQUFDLE9BQU8sR0FBRyxDQUFDLHdCQUF3QixDQUFDLEtBQUssV0FBVyxDQUFDLElBQUksQ0FBQyxDQUFDLE9BQU8sR0FBRyxDQUFDLHdCQUF3QixDQUFDLEtBQUssU0FBUyxJQUFJLEdBQUcsQ0FBQyx3QkFBd0IsQ0FBQyxZQUFZLE9BQU8sQ0FBQyxFQUFFO1lBQ3JLLE9BQU8sS0FBSyxDQUFBO1NBQ2Y7UUFDRCxJQUFJLENBQUMsT0FBTyxHQUFHLENBQUMscUJBQXFCLENBQUMsS0FBSyxXQUFXLENBQUMsSUFBSSxDQUFDLENBQUMscUNBQXFDLENBQUMsNEJBQTRCLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxxQkFBcUIsQ0FBQyxDQUFDLENBQUMsRUFBRTtZQUNuSyxPQUFPLEtBQUssQ0FBQTtTQUNmO1FBQ0QsSUFBSSxDQUFDLE9BQU8sR0FBRyxDQUFDLHdCQUF3QixDQUFDLEtBQUssV0FBVyxDQUFDLElBQUksQ0FBQyxDQUFDLE9BQU8sR0FBRyxDQUFDLHdCQUF3QixDQUFDLEtBQUssUUFBUSxDQUFDLEVBQUU7WUFDaEgsT0FBTyxLQUFLLENBQUE7U0FDZjtRQUNELElBQUksQ0FBQyxPQUFPLEdBQUcsQ0FBQyxXQUFXLENBQUMsS0FBSyxXQUFXLENBQUMsSUFBSSxDQUFDLENBQUMscUNBQXFDLENBQUMsa0JBQWtCLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDLEVBQUU7WUFDckksT0FBTyxLQUFLLENBQUE7U0FDZjtRQUNELElBQUksQ0FBQyxPQUFPLEdBQUcsQ0FBQyxpQkFBaUIsQ0FBQyxLQUFLLFdBQVcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxPQUFPLEdBQUcsQ0FBQyxpQkFBaUIsQ0FBQyxLQUFLLFFBQVEsSUFBSSxHQUFHLENBQUMsaUJBQWlCLENBQUMsWUFBWSxNQUFNLENBQUMsRUFBRTtZQUM5SSxPQUFPLEtBQUssQ0FBQTtTQUNmO1FBQ0QsSUFBSSxDQUFDLE9BQU8sR0FBRyxDQUFDLFlBQVksQ0FBQyxLQUFLLFdBQVcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxPQUFPLEdBQUcsQ0FBQyxZQUFZLENBQUMsS0FBSyxRQUFRLENBQUMsRUFBRTtZQUN4RixPQUFPLEtBQUssQ0FBQTtTQUNmO1FBQ0QsSUFBSSxDQUFDLE9BQU8sR0FBRyxDQUFDLGFBQWEsQ0FBQyxLQUFLLFdBQVcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxxQ0FBcUMsQ0FBQyxvQkFBb0IsQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLGFBQWEsQ0FBQyxDQUFDLENBQUMsRUFBRTtZQUMzSSxPQUFPLEtBQUssQ0FBQTtTQUNmO1FBQ0QsSUFBSSxDQUFDLE9BQU8sR0FBRyxDQUFDLDZCQUE2QixDQUFDLEtBQUssV0FBVyxDQUFDLElBQUksQ0FBQyxDQUFDLE9BQU8sR0FBRyxDQUFDLDZCQUE2QixDQUFDLEtBQUssUUFBUSxDQUFDLEVBQUU7WUFDMUgsT0FBTyxLQUFLLENBQUE7U0FDZjtRQUNELElBQUksQ0FBQyxPQUFPLEdBQUcsQ0FBQyxhQUFhLENBQUMsS0FBSyxXQUFXLENBQUMsSUFBSSxDQUFDLENBQUMsT0FBTyxHQUFHLENBQUMsYUFBYSxDQUFDLEtBQUssUUFBUSxDQUFDLEVBQUU7WUFDMUYsT0FBTyxLQUFLLENBQUE7U0FDZjtRQUNELE9BQU8sSUFBSSxDQUFBO0lBQ2YsQ0FBQzs7QUFsREwsc0ZBbURDO0FBbERtQiwwREFBb0IsR0FBRyxJQUFJLGtDQUFvQixFQUFFLENBQUE7QUFDakQsd0RBQWtCLEdBQUcsSUFBSSw4QkFBa0IsRUFBRSxDQUFBO0FBQzdDLGtFQUE0QixHQUFHLElBQUksa0RBQTRCLEVBQUUsQ0FBQTtBQUNqRSw4REFBd0IsR0FBRyxJQUFJLDBDQUF3QixFQUFFLENBQUE7QUFDekQsK0RBQXlCLEdBQUcsSUFBSSw0Q0FBeUIsRUFBRSxDQUFBIiwic291cmNlc0NvbnRlbnQiOlsiLy8gQ29weXJpZ2h0IChjKSAyMDIzIEFwcGxlIEluYy4gTGljZW5zZWQgdW5kZXIgTUlUIExpY2Vuc2UuXG5cbmltcG9ydCB7IEF1dG9SZW5ld1N0YXR1cywgQXV0b1JlbmV3U3RhdHVzVmFsaWRhdG9yIH0gZnJvbSBcIi4vQXV0b1JlbmV3U3RhdHVzXCJcbmltcG9ydCB7IERlY29kZWRTaWduZWREYXRhIH0gZnJvbSBcIi4vRGVjb2RlZFNpZ25lZERhdGFcIlxuaW1wb3J0IHsgRW52aXJvbm1lbnQsIEVudmlyb25tZW50VmFsaWRhdG9yIH0gZnJvbSBcIi4vRW52aXJvbm1lbnRcIlxuaW1wb3J0IHsgRXhwaXJhdGlvbkludGVudCwgRXhwaXJhdGlvbkludGVudFZhbGlkYXRvciB9IGZyb20gXCIuL0V4cGlyYXRpb25JbnRlbnRcIlxuaW1wb3J0IHsgT2ZmZXJUeXBlLCBPZmZlclR5cGVWYWxpZGF0b3IgfSBmcm9tIFwiLi9PZmZlclR5cGVcIlxuaW1wb3J0IHsgUHJpY2VJbmNyZWFzZVN0YXR1cywgUHJpY2VJbmNyZWFzZVN0YXR1c1ZhbGlkYXRvciB9IGZyb20gXCIuL1ByaWNlSW5jcmVhc2VTdGF0dXNcIlxuaW1wb3J0IHsgVmFsaWRhdG9yIH0gZnJvbSBcIi4vVmFsaWRhdG9yXCJcblxuLyoqXG4gKiBBIGRlY29kZWQgcGF5bG9hZCBjb250YWluaW5nIHN1YnNjcmlwdGlvbiByZW5ld2FsIGluZm9ybWF0aW9uIGZvciBhbiBhdXRvLXJlbmV3YWJsZSBzdWJzY3JpcHRpb24uXG4gKlxuICoge0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLmFwcGxlLmNvbS9kb2N1bWVudGF0aW9uL2FwcHN0b3Jlc2VydmVyYXBpL2p3c3JlbmV3YWxpbmZvZGVjb2RlZHBheWxvYWQgSldTUmVuZXdhbEluZm9EZWNvZGVkUGF5bG9hZH1cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBKV1NSZW5ld2FsSW5mb0RlY29kZWRQYXlsb2FkIGV4dGVuZHMgRGVjb2RlZFNpZ25lZERhdGEge1xuXG4gICAgLyoqXG4gICAgICogVGhlIHJlYXNvbiB0aGUgc3Vic2NyaXB0aW9uIGV4cGlyZWQuXG4gICAgICpcbiAgICAgKiB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIuYXBwbGUuY29tL2RvY3VtZW50YXRpb24vYXBwc3RvcmVzZXJ2ZXJhcGkvZXhwaXJhdGlvbmludGVudCBleHBpcmF0aW9uSW50ZW50fVxuICAgICAqKi9cbiAgICBleHBpcmF0aW9uSW50ZW50PzogRXhwaXJhdGlvbkludGVudFxuICAgICAgICBcbiAgICAvKipcbiAgICAgKiBUaGUgb3JpZ2luYWwgdHJhbnNhY3Rpb24gaWRlbnRpZmllciBvZiBhIHB1cmNoYXNlLlxuICAgICAqXG4gICAgICoge0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLmFwcGxlLmNvbS9kb2N1bWVudGF0aW9uL2FwcHN0b3Jlc2VydmVyYXBpL29yaWdpbmFsdHJhbnNhY3Rpb25pZCBvcmlnaW5hbFRyYW5zYWN0aW9uSWR9XG4gICAgICoqL1xuICAgIG9yaWdpbmFsVHJhbnNhY3Rpb25JZD86IHN0cmluZ1xuICAgICAgICBcbiAgICAvKipcbiAgICAgKiBUaGUgcHJvZHVjdCBpZGVudGlmaWVyIG9mIHRoZSBwcm9kdWN0IHRoYXQgd2lsbCByZW5ldyBhdCB0aGUgbmV4dCBiaWxsaW5nIHBlcmlvZC5cbiAgICAgKlxuICAgICAqIHtAbGluayBodHRwczovL2RldmVsb3Blci5hcHBsZS5jb20vZG9jdW1lbnRhdGlvbi9hcHBzdG9yZXNlcnZlcmFwaS9hdXRvcmVuZXdwcm9kdWN0aWQgYXV0b1JlbmV3UHJvZHVjdElkfVxuICAgICAqKi9cbiAgICBhdXRvUmVuZXdQcm9kdWN0SWQ/OiBzdHJpbmdcbiAgICAgICAgXG4gICAgLyoqXG4gICAgICogVGhlIHVuaXF1ZSBpZGVudGlmaWVyIGZvciB0aGUgcHJvZHVjdCwgdGhhdCB5b3UgY3JlYXRlIGluIEFwcCBTdG9yZSBDb25uZWN0LlxuICAgICAqXG4gICAgICoge0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLmFwcGxlLmNvbS9kb2N1bWVudGF0aW9uL2FwcHN0b3Jlc2VydmVyYXBpL3Byb2R1Y3RpZCBwcm9kdWN0SWR9XG4gICAgICoqL1xuICAgIHByb2R1Y3RJZD86IHN0cmluZ1xuICAgICAgICBcbiAgICAvKipcbiAgICAgKiBUaGUgcmVuZXdhbCBzdGF0dXMgb2YgdGhlIGF1dG8tcmVuZXdhYmxlIHN1YnNjcmlwdGlvbi5cbiAgICAgKlxuICAgICAqIHtAbGluayBodHRwczovL2RldmVsb3Blci5hcHBsZS5jb20vZG9jdW1lbnRhdGlvbi9hcHBzdG9yZXNlcnZlcmFwaS9hdXRvcmVuZXdzdGF0dXMgYXV0b1JlbmV3U3RhdHVzfVxuICAgICAqKi9cbiAgICBhdXRvUmVuZXdTdGF0dXM/OiBBdXRvUmVuZXdTdGF0dXNcbiAgICAgICAgXG4gICAgLyoqXG4gICAgICogQSBCb29sZWFuIHZhbHVlIHRoYXQgaW5kaWNhdGVzIHdoZXRoZXIgdGhlIEFwcCBTdG9yZSBpcyBhdHRlbXB0aW5nIHRvIGF1dG9tYXRpY2FsbHkgcmVuZXcgYW4gZXhwaXJlZCBzdWJzY3JpcHRpb24uXG4gICAgICpcbiAgICAgKiB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIuYXBwbGUuY29tL2RvY3VtZW50YXRpb24vYXBwc3RvcmVzZXJ2ZXJhcGkvaXNpbmJpbGxpbmdyZXRyeXBlcmlvZCBpc0luQmlsbGluZ1JldHJ5UGVyaW9kfVxuICAgICAqKi9cbiAgICBpc0luQmlsbGluZ1JldHJ5UGVyaW9kPzogYm9vbGVhblxuICAgICAgICBcbiAgICAvKipcbiAgICAgKiBUaGUgc3RhdHVzIHRoYXQgaW5kaWNhdGVzIHdoZXRoZXIgdGhlIGF1dG8tcmVuZXdhYmxlIHN1YnNjcmlwdGlvbiBpcyBzdWJqZWN0IHRvIGEgcHJpY2UgaW5jcmVhc2UuXG4gICAgICpcbiAgICAgKiB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIuYXBwbGUuY29tL2RvY3VtZW50YXRpb24vYXBwc3RvcmVzZXJ2ZXJhcGkvcHJpY2VpbmNyZWFzZXN0YXR1cyBwcmljZUluY3JlYXNlU3RhdHVzfVxuICAgICAqKi9cbiAgICBwcmljZUluY3JlYXNlU3RhdHVzPzogUHJpY2VJbmNyZWFzZVN0YXR1c1xuICAgICAgICBcbiAgICAvKipcbiAgICAgKiBUaGUgdGltZSB3aGVuIHRoZSBiaWxsaW5nIGdyYWNlIHBlcmlvZCBmb3Igc3Vic2NyaXB0aW9uIHJlbmV3YWxzIGV4cGlyZXMuXG4gICAgICpcbiAgICAgKiB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIuYXBwbGUuY29tL2RvY3VtZW50YXRpb24vYXBwc3RvcmVzZXJ2ZXJhcGkvZ3JhY2VwZXJpb2RleHBpcmVzZGF0ZSBncmFjZVBlcmlvZEV4cGlyZXNEYXRlfVxuICAgICAqKi9cbiAgICBncmFjZVBlcmlvZEV4cGlyZXNEYXRlPzogbnVtYmVyXG4gICAgICAgIFxuICAgIC8qKlxuICAgICAqIFRoZSB0eXBlIG9mIHRoZSBzdWJzY3JpcHRpb24gb2ZmZXIuXG4gICAgICpcbiAgICAgKiB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIuYXBwbGUuY29tL2RvY3VtZW50YXRpb24vYXBwc3RvcmVzZXJ2ZXJhcGkvb2ZmZXJ0eXBlIG9mZmVyVHlwZX1cbiAgICAgKiovXG4gICAgb2ZmZXJUeXBlPzogT2ZmZXJUeXBlXG4gICAgICAgIFxuICAgIC8qKlxuICAgICAqIFRoZSBpZGVudGlmaWVyIHRoYXQgY29udGFpbnMgdGhlIHByb21vIGNvZGUgb3IgdGhlIHByb21vdGlvbmFsIG9mZmVyIGlkZW50aWZpZXIuXG4gICAgICpcbiAgICAgKiB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIuYXBwbGUuY29tL2RvY3VtZW50YXRpb24vYXBwc3RvcmVzZXJ2ZXJhcGkvb2ZmZXJpZGVudGlmaWVyIG9mZmVySWRlbnRpZmllcn1cbiAgICAgKiovXG4gICAgb2ZmZXJJZGVudGlmaWVyPzogc3RyaW5nXG4gICAgICAgIFxuICAgIC8qKlxuICAgICAqIFRoZSBVTklYIHRpbWUsIGluIG1pbGxpc2Vjb25kcywgdGhhdCB0aGUgQXBwIFN0b3JlIHNpZ25lZCB0aGUgSlNPTiBXZWIgU2lnbmF0dXJlIGRhdGEuXG4gICAgICpcbiAgICAgKiB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIuYXBwbGUuY29tL2RvY3VtZW50YXRpb24vYXBwc3RvcmVzZXJ2ZXJhcGkvc2lnbmVkZGF0ZSBzaWduZWREYXRlfVxuICAgICAqKi9cbiAgICBzaWduZWREYXRlPzogbnVtYmVyXG4gICAgICAgIFxuICAgIC8qKlxuICAgICAqIFRoZSBzZXJ2ZXIgZW52aXJvbm1lbnQsIGVpdGhlciBzYW5kYm94IG9yIHByb2R1Y3Rpb24uXG4gICAgICpcbiAgICAgKiB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIuYXBwbGUuY29tL2RvY3VtZW50YXRpb24vYXBwc3RvcmVzZXJ2ZXJhcGkvZW52aXJvbm1lbnQgZW52aXJvbm1lbnR9XG4gICAgICoqL1xuICAgIGVudmlyb25tZW50PzogRW52aXJvbm1lbnRcbiAgICAgICAgXG4gICAgLyoqXG4gICAgICogVGhlIGVhcmxpZXN0IHN0YXJ0IGRhdGUgb2YgYSBzdWJzY3JpcHRpb24gaW4gYSBzZXJpZXMgb2YgYXV0by1yZW5ld2FibGUgc3Vic2NyaXB0aW9uIHB1cmNoYXNlcyB0aGF0IGlnbm9yZXMgYWxsIGxhcHNlcyBvZiBwYWlkIHNlcnZpY2Ugc2hvcnRlciB0aGFuIDYwIGRheXMuXG4gICAgICpcbiAgICAgKiB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIuYXBwbGUuY29tL2RvY3VtZW50YXRpb24vYXBwc3RvcmVzZXJ2ZXJhcGkvcmVjZW50c3Vic2NyaXB0aW9uc3RhcnRkYXRlIHJlY2VudFN1YnNjcmlwdGlvblN0YXJ0RGF0ZX1cbiAgICAgKiovXG4gICAgcmVjZW50U3Vic2NyaXB0aW9uU3RhcnREYXRlPzogbnVtYmVyXG4gICAgXG4gICAgLyoqXG4gICAgICogVGhlIFVOSVggdGltZSwgaW4gbWlsbGlzZWNvbmRzLCB3aGVuIHRoZSBtb3N0IHJlY2VudCBhdXRvLXJlbmV3YWJsZSBzdWJzY3JpcHRpb24gcHVyY2hhc2UgZXhwaXJlcy5cbiAgICAgKlxuICAgICAqIHtAbGluayBodHRwczovL2RldmVsb3Blci5hcHBsZS5jb20vZG9jdW1lbnRhdGlvbi9hcHBzdG9yZXNlcnZlcmFwaS9yZW5ld2FsZGF0ZSByZW5ld2FsRGF0ZX1cbiAgICAgKiovXG4gICAgcmVuZXdhbERhdGU/OiBudW1iZXJcbn1cblxuXG5leHBvcnQgY2xhc3MgSldTUmVuZXdhbEluZm9EZWNvZGVkUGF5bG9hZFZhbGlkYXRvciBpbXBsZW1lbnRzIFZhbGlkYXRvcjxKV1NSZW5ld2FsSW5mb0RlY29kZWRQYXlsb2FkPiB7XG4gICAgc3RhdGljIHJlYWRvbmx5IGVudmlyb25tZW50VmFsaWRhdG9yID0gbmV3IEVudmlyb25tZW50VmFsaWRhdG9yKClcbiAgICBzdGF0aWMgcmVhZG9ubHkgb2ZmZXJUeXBlVmFsaWRhdG9yID0gbmV3IE9mZmVyVHlwZVZhbGlkYXRvcigpXG4gICAgc3RhdGljIHJlYWRvbmx5IHByaWNlSW5jcmVhc2VTdGF0dXNWYWxpZGF0b3IgPSBuZXcgUHJpY2VJbmNyZWFzZVN0YXR1c1ZhbGlkYXRvcigpXG4gICAgc3RhdGljIHJlYWRvbmx5IGF1dG9SZW5ld1N0YXR1c1ZhbGlkYXRvciA9IG5ldyBBdXRvUmVuZXdTdGF0dXNWYWxpZGF0b3IoKVxuICAgIHN0YXRpYyByZWFkb25seSBleHBpcmF0aW9uSW50ZW50VmFsaWRhdG9yID0gbmV3IEV4cGlyYXRpb25JbnRlbnRWYWxpZGF0b3IoKVxuICAgIHZhbGlkYXRlKG9iajogYW55KTogb2JqIGlzIEpXU1JlbmV3YWxJbmZvRGVjb2RlZFBheWxvYWQge1xuICAgICAgICBpZiAoKHR5cGVvZiBvYmpbJ2V4cGlyYXRpb25JbnRlbnQnXSAhPT0gJ3VuZGVmaW5lZCcpICYmICEoSldTUmVuZXdhbEluZm9EZWNvZGVkUGF5bG9hZFZhbGlkYXRvci5leHBpcmF0aW9uSW50ZW50VmFsaWRhdG9yLnZhbGlkYXRlKG9ialsnZXhwaXJhdGlvbkludGVudCddKSkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgICB9XG4gICAgICAgIGlmICgodHlwZW9mIG9ialsnb3JpZ2luYWxUcmFuc2FjdGlvbklkJ10gIT09ICd1bmRlZmluZWQnKSAmJiAhKHR5cGVvZiBvYmpbJ29yaWdpbmFsVHJhbnNhY3Rpb25JZCddID09PSBcInN0cmluZ1wiIHx8IG9ialsnb3JpZ2luYWxUcmFuc2FjdGlvbklkJ10gaW5zdGFuY2VvZiBTdHJpbmcpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgICAgfVxuICAgICAgICBpZiAoKHR5cGVvZiBvYmpbJ2F1dG9SZW5ld1Byb2R1Y3RJZCddICE9PSAndW5kZWZpbmVkJykgJiYgISh0eXBlb2Ygb2JqWydhdXRvUmVuZXdQcm9kdWN0SWQnXSA9PT0gXCJzdHJpbmdcIiB8fCBvYmpbJ2F1dG9SZW5ld1Byb2R1Y3RJZCddIGluc3RhbmNlb2YgU3RyaW5nKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgIH1cbiAgICAgICAgaWYgKCh0eXBlb2Ygb2JqWydwcm9kdWN0SWQnXSAhPT0gJ3VuZGVmaW5lZCcpICYmICEodHlwZW9mIG9ialsncHJvZHVjdElkJ10gPT09IFwic3RyaW5nXCIgfHwgb2JqWydwcm9kdWN0SWQnXSBpbnN0YW5jZW9mIFN0cmluZykpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgICB9XG4gICAgICAgIGlmICgodHlwZW9mIG9ialsnYXV0b1JlbmV3U3RhdHVzJ10gIT09ICd1bmRlZmluZWQnKSAmJiAhKEpXU1JlbmV3YWxJbmZvRGVjb2RlZFBheWxvYWRWYWxpZGF0b3IuYXV0b1JlbmV3U3RhdHVzVmFsaWRhdG9yLnZhbGlkYXRlKG9ialsnYXV0b1JlbmV3U3RhdHVzJ10pKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgIH1cbiAgICAgICAgaWYgKCh0eXBlb2Ygb2JqWydpc0luQmlsbGluZ1JldHJ5UGVyaW9kJ10gIT09ICd1bmRlZmluZWQnKSAmJiAhKHR5cGVvZiBvYmpbJ2lzSW5CaWxsaW5nUmV0cnlQZXJpb2QnXSA9PT0gXCJib29sZWFuXCIgfHwgb2JqWydpc0luQmlsbGluZ1JldHJ5UGVyaW9kJ10gaW5zdGFuY2VvZiBCb29sZWFuKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgIH1cbiAgICAgICAgaWYgKCh0eXBlb2Ygb2JqWydwcmljZUluY3JlYXNlU3RhdHVzJ10gIT09ICd1bmRlZmluZWQnKSAmJiAhKEpXU1JlbmV3YWxJbmZvRGVjb2RlZFBheWxvYWRWYWxpZGF0b3IucHJpY2VJbmNyZWFzZVN0YXR1c1ZhbGlkYXRvci52YWxpZGF0ZShvYmpbJ3ByaWNlSW5jcmVhc2VTdGF0dXMnXSkpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgICAgfVxuICAgICAgICBpZiAoKHR5cGVvZiBvYmpbJ2dyYWNlUGVyaW9kRXhwaXJlc0RhdGUnXSAhPT0gJ3VuZGVmaW5lZCcpICYmICEodHlwZW9mIG9ialsnZ3JhY2VQZXJpb2RFeHBpcmVzRGF0ZSddID09PSBcIm51bWJlclwiKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgIH1cbiAgICAgICAgaWYgKCh0eXBlb2Ygb2JqWydvZmZlclR5cGUnXSAhPT0gJ3VuZGVmaW5lZCcpICYmICEoSldTUmVuZXdhbEluZm9EZWNvZGVkUGF5bG9hZFZhbGlkYXRvci5vZmZlclR5cGVWYWxpZGF0b3IudmFsaWRhdGUob2JqWydvZmZlclR5cGUnXSkpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgICAgfVxuICAgICAgICBpZiAoKHR5cGVvZiBvYmpbJ29mZmVySWRlbnRpZmllciddICE9PSAndW5kZWZpbmVkJykgJiYgISh0eXBlb2Ygb2JqWydvZmZlcklkZW50aWZpZXInXSA9PT0gXCJzdHJpbmdcIiB8fCBvYmpbJ29mZmVySWRlbnRpZmllciddIGluc3RhbmNlb2YgU3RyaW5nKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgIH1cbiAgICAgICAgaWYgKCh0eXBlb2Ygb2JqWydzaWduZWREYXRlJ10gIT09ICd1bmRlZmluZWQnKSAmJiAhKHR5cGVvZiBvYmpbJ3NpZ25lZERhdGUnXSA9PT0gXCJudW1iZXJcIikpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgICB9XG4gICAgICAgIGlmICgodHlwZW9mIG9ialsnZW52aXJvbm1lbnQnXSAhPT0gJ3VuZGVmaW5lZCcpICYmICEoSldTUmVuZXdhbEluZm9EZWNvZGVkUGF5bG9hZFZhbGlkYXRvci5lbnZpcm9ubWVudFZhbGlkYXRvci52YWxpZGF0ZShvYmpbJ2Vudmlyb25tZW50J10pKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgIH1cbiAgICAgICAgaWYgKCh0eXBlb2Ygb2JqWydyZWNlbnRTdWJzY3JpcHRpb25TdGFydERhdGUnXSAhPT0gJ3VuZGVmaW5lZCcpICYmICEodHlwZW9mIG9ialsncmVjZW50U3Vic2NyaXB0aW9uU3RhcnREYXRlJ10gPT09ICdudW1iZXInKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgIH1cbiAgICAgICAgaWYgKCh0eXBlb2Ygb2JqWydyZW5ld2FsRGF0ZSddICE9PSAndW5kZWZpbmVkJykgJiYgISh0eXBlb2Ygb2JqWydyZW5ld2FsRGF0ZSddID09PSAnbnVtYmVyJykpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlXG4gICAgfVxufVxuIl19