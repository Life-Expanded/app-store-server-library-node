"use strict";
// Copyright (c) 2023 Apple Inc. Licensed under MIT License.
Object.defineProperty(exports, "__esModule", { value: true });
exports.JWSTransactionDecodedPayloadValidator = void 0;
const Environment_1 = require("./Environment");
const InAppOwnershipType_1 = require("./InAppOwnershipType");
const OfferType_1 = require("./OfferType");
const RevocationReason_1 = require("./RevocationReason");
const TransactionReason_1 = require("./TransactionReason");
const Type_1 = require("./Type");
class JWSTransactionDecodedPayloadValidator {
    validate(obj) {
        if ((typeof obj['originalTransactionId'] !== 'undefined') && !(typeof obj['originalTransactionId'] === "string" || obj['originalTransactionId'] instanceof String)) {
            return false;
        }
        if ((typeof obj['transactionId'] !== 'undefined') && !(typeof obj['transactionId'] === "string" || obj['transactionId'] instanceof String)) {
            return false;
        }
        if ((typeof obj['webOrderLineItemId'] !== 'undefined') && !(typeof obj['webOrderLineItemId'] === "string" || obj['webOrderLineItemId'] instanceof String)) {
            return false;
        }
        if ((typeof obj['bundleId'] !== 'undefined') && !(typeof obj['bundleId'] === "string" || obj['bundleId'] instanceof String)) {
            return false;
        }
        if ((typeof obj['productId'] !== 'undefined') && !(typeof obj['productId'] === "string" || obj['productId'] instanceof String)) {
            return false;
        }
        if ((typeof obj['subscriptionGroupIdentifier'] !== 'undefined') && !(typeof obj['subscriptionGroupIdentifier'] === "string" || obj['subscriptionGroupIdentifier'] instanceof String)) {
            return false;
        }
        if ((typeof obj['purchaseDate'] !== 'undefined') && !(typeof obj['purchaseDate'] === "number")) {
            return false;
        }
        if ((typeof obj['originalPurchaseDate'] !== 'undefined') && !(typeof obj['originalPurchaseDate'] === "number")) {
            return false;
        }
        if ((typeof obj['expiresDate'] !== 'undefined') && !(typeof obj['expiresDate'] === "number")) {
            return false;
        }
        if ((typeof obj['quantity'] !== 'undefined') && !(typeof obj['quantity'] === 'number')) {
            return false;
        }
        if ((typeof obj['type'] !== 'undefined') && !(JWSTransactionDecodedPayloadValidator.typeValidator.validate(obj['type']))) {
            return false;
        }
        if ((typeof obj['appAccountToken'] !== 'undefined') && !(typeof obj['appAccountToken'] === "string" || obj['appAccountToken'] instanceof String)) {
            return false;
        }
        if ((typeof obj['inAppOwnershipType'] !== 'undefined') && !(JWSTransactionDecodedPayloadValidator.inAppOwnershipTypeValidator.validate(obj['inAppOwnershipType']))) {
            return false;
        }
        if ((typeof obj['signedDate'] !== 'undefined') && !(typeof obj['signedDate'] === "number")) {
            return false;
        }
        if ((typeof obj['revocationReason'] !== 'undefined') && !(JWSTransactionDecodedPayloadValidator.revocationReasonValidator.validate(obj['revocationReason']))) {
            return false;
        }
        if ((typeof obj['revocationDate'] !== 'undefined') && !(typeof obj['revocationDate'] === "number")) {
            return false;
        }
        if ((typeof obj['isUpgraded'] !== 'undefined') && !(typeof obj['isUpgraded'] === "boolean" || obj['isUpgraded'] instanceof Boolean)) {
            return false;
        }
        if ((typeof obj['offerType'] !== 'undefined') && !(JWSTransactionDecodedPayloadValidator.offerTypeValidator.validate(obj['offerType']))) {
            return false;
        }
        if ((typeof obj['offerIdentifier'] !== 'undefined') && !(typeof obj['offerIdentifier'] === "string" || obj['offerIdentifier'] instanceof String)) {
            return false;
        }
        if ((typeof obj['environment'] !== 'undefined') && !(JWSTransactionDecodedPayloadValidator.environmentValidator.validate(obj['environment']))) {
            return false;
        }
        if ((typeof obj['storefront'] !== 'undefined') && !(typeof obj['storefront'] === "string" || obj['storefront'] instanceof String)) {
            return false;
        }
        if ((typeof obj['storefrontId'] !== 'undefined') && !(typeof obj['storefrontId'] === "string" || obj['storefrontId'] instanceof String)) {
            return false;
        }
        if ((typeof obj['transactionReason'] !== 'undefined') && !(JWSTransactionDecodedPayloadValidator.transactionReasonValidator.validate(obj['transactionReason']))) {
            return false;
        }
        return true;
    }
}
exports.JWSTransactionDecodedPayloadValidator = JWSTransactionDecodedPayloadValidator;
JWSTransactionDecodedPayloadValidator.environmentValidator = new Environment_1.EnvironmentValidator();
JWSTransactionDecodedPayloadValidator.offerTypeValidator = new OfferType_1.OfferTypeValidator();
JWSTransactionDecodedPayloadValidator.revocationReasonValidator = new RevocationReason_1.RevocationReasonValidator();
JWSTransactionDecodedPayloadValidator.inAppOwnershipTypeValidator = new InAppOwnershipType_1.InAppOwnershipTypeValidator();
JWSTransactionDecodedPayloadValidator.typeValidator = new Type_1.TypeValidator();
JWSTransactionDecodedPayloadValidator.transactionReasonValidator = new TransactionReason_1.TransactionReasonValidator();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiSldTVHJhbnNhY3Rpb25EZWNvZGVkUGF5bG9hZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL21vZGVscy9KV1NUcmFuc2FjdGlvbkRlY29kZWRQYXlsb2FkLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSw0REFBNEQ7OztBQUc1RCwrQ0FBaUU7QUFDakUsNkRBQXNGO0FBQ3RGLDJDQUEyRDtBQUMzRCx5REFBZ0Y7QUFDaEYsMkRBQW1GO0FBQ25GLGlDQUE0QztBQTZLNUMsTUFBYSxxQ0FBcUM7SUFPOUMsUUFBUSxDQUFDLEdBQVE7UUFDYixJQUFJLENBQUMsT0FBTyxHQUFHLENBQUMsdUJBQXVCLENBQUMsS0FBSyxXQUFXLENBQUMsSUFBSSxDQUFDLENBQUMsT0FBTyxHQUFHLENBQUMsdUJBQXVCLENBQUMsS0FBSyxRQUFRLElBQUksR0FBRyxDQUFDLHVCQUF1QixDQUFDLFlBQVksTUFBTSxDQUFDLEVBQUU7WUFDaEssT0FBTyxLQUFLLENBQUE7U0FDZjtRQUNELElBQUksQ0FBQyxPQUFPLEdBQUcsQ0FBQyxlQUFlLENBQUMsS0FBSyxXQUFXLENBQUMsSUFBSSxDQUFDLENBQUMsT0FBTyxHQUFHLENBQUMsZUFBZSxDQUFDLEtBQUssUUFBUSxJQUFJLEdBQUcsQ0FBQyxlQUFlLENBQUMsWUFBWSxNQUFNLENBQUMsRUFBRTtZQUN4SSxPQUFPLEtBQUssQ0FBQTtTQUNmO1FBQ0QsSUFBSSxDQUFDLE9BQU8sR0FBRyxDQUFDLG9CQUFvQixDQUFDLEtBQUssV0FBVyxDQUFDLElBQUksQ0FBQyxDQUFDLE9BQU8sR0FBRyxDQUFDLG9CQUFvQixDQUFDLEtBQUssUUFBUSxJQUFJLEdBQUcsQ0FBQyxvQkFBb0IsQ0FBQyxZQUFZLE1BQU0sQ0FBQyxFQUFFO1lBQ3ZKLE9BQU8sS0FBSyxDQUFBO1NBQ2Y7UUFDRCxJQUFJLENBQUMsT0FBTyxHQUFHLENBQUMsVUFBVSxDQUFDLEtBQUssV0FBVyxDQUFDLElBQUksQ0FBQyxDQUFDLE9BQU8sR0FBRyxDQUFDLFVBQVUsQ0FBQyxLQUFLLFFBQVEsSUFBSSxHQUFHLENBQUMsVUFBVSxDQUFDLFlBQVksTUFBTSxDQUFDLEVBQUU7WUFDekgsT0FBTyxLQUFLLENBQUE7U0FDZjtRQUNELElBQUksQ0FBQyxPQUFPLEdBQUcsQ0FBQyxXQUFXLENBQUMsS0FBSyxXQUFXLENBQUMsSUFBSSxDQUFDLENBQUMsT0FBTyxHQUFHLENBQUMsV0FBVyxDQUFDLEtBQUssUUFBUSxJQUFJLEdBQUcsQ0FBQyxXQUFXLENBQUMsWUFBWSxNQUFNLENBQUMsRUFBRTtZQUM1SCxPQUFPLEtBQUssQ0FBQTtTQUNmO1FBQ0QsSUFBSSxDQUFDLE9BQU8sR0FBRyxDQUFDLDZCQUE2QixDQUFDLEtBQUssV0FBVyxDQUFDLElBQUksQ0FBQyxDQUFDLE9BQU8sR0FBRyxDQUFDLDZCQUE2QixDQUFDLEtBQUssUUFBUSxJQUFJLEdBQUcsQ0FBQyw2QkFBNkIsQ0FBQyxZQUFZLE1BQU0sQ0FBQyxFQUFFO1lBQ2xMLE9BQU8sS0FBSyxDQUFBO1NBQ2Y7UUFDRCxJQUFJLENBQUMsT0FBTyxHQUFHLENBQUMsY0FBYyxDQUFDLEtBQUssV0FBVyxDQUFDLElBQUksQ0FBQyxDQUFDLE9BQU8sR0FBRyxDQUFDLGNBQWMsQ0FBQyxLQUFLLFFBQVEsQ0FBQyxFQUFFO1lBQzVGLE9BQU8sS0FBSyxDQUFBO1NBQ2Y7UUFDRCxJQUFJLENBQUMsT0FBTyxHQUFHLENBQUMsc0JBQXNCLENBQUMsS0FBSyxXQUFXLENBQUMsSUFBSSxDQUFDLENBQUMsT0FBTyxHQUFHLENBQUMsc0JBQXNCLENBQUMsS0FBSyxRQUFRLENBQUMsRUFBRTtZQUM1RyxPQUFPLEtBQUssQ0FBQTtTQUNmO1FBQ0QsSUFBSSxDQUFDLE9BQU8sR0FBRyxDQUFDLGFBQWEsQ0FBQyxLQUFLLFdBQVcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxPQUFPLEdBQUcsQ0FBQyxhQUFhLENBQUMsS0FBSyxRQUFRLENBQUMsRUFBRTtZQUMxRixPQUFPLEtBQUssQ0FBQTtTQUNmO1FBQ0QsSUFBSSxDQUFDLE9BQU8sR0FBRyxDQUFDLFVBQVUsQ0FBQyxLQUFLLFdBQVcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxPQUFPLEdBQUcsQ0FBQyxVQUFVLENBQUMsS0FBSyxRQUFRLENBQUMsRUFBRTtZQUNwRixPQUFPLEtBQUssQ0FBQTtTQUNmO1FBQ0QsSUFBSSxDQUFDLE9BQU8sR0FBRyxDQUFDLE1BQU0sQ0FBQyxLQUFLLFdBQVcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxxQ0FBcUMsQ0FBQyxhQUFhLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEVBQUU7WUFDdEgsT0FBTyxLQUFLLENBQUE7U0FDZjtRQUNELElBQUksQ0FBQyxPQUFPLEdBQUcsQ0FBQyxpQkFBaUIsQ0FBQyxLQUFLLFdBQVcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxPQUFPLEdBQUcsQ0FBQyxpQkFBaUIsQ0FBQyxLQUFLLFFBQVEsSUFBSSxHQUFHLENBQUMsaUJBQWlCLENBQUMsWUFBWSxNQUFNLENBQUMsRUFBRTtZQUM5SSxPQUFPLEtBQUssQ0FBQTtTQUNmO1FBQ0QsSUFBSSxDQUFDLE9BQU8sR0FBRyxDQUFDLG9CQUFvQixDQUFDLEtBQUssV0FBVyxDQUFDLElBQUksQ0FBQyxDQUFDLHFDQUFxQyxDQUFDLDJCQUEyQixDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsb0JBQW9CLENBQUMsQ0FBQyxDQUFDLEVBQUU7WUFDaEssT0FBTyxLQUFLLENBQUE7U0FDZjtRQUNELElBQUksQ0FBQyxPQUFPLEdBQUcsQ0FBQyxZQUFZLENBQUMsS0FBSyxXQUFXLENBQUMsSUFBSSxDQUFDLENBQUMsT0FBTyxHQUFHLENBQUMsWUFBWSxDQUFDLEtBQUssUUFBUSxDQUFDLEVBQUU7WUFDeEYsT0FBTyxLQUFLLENBQUE7U0FDZjtRQUNELElBQUksQ0FBQyxPQUFPLEdBQUcsQ0FBQyxrQkFBa0IsQ0FBQyxLQUFLLFdBQVcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxxQ0FBcUMsQ0FBQyx5QkFBeUIsQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLGtCQUFrQixDQUFDLENBQUMsQ0FBQyxFQUFFO1lBQzFKLE9BQU8sS0FBSyxDQUFBO1NBQ2Y7UUFDRCxJQUFJLENBQUMsT0FBTyxHQUFHLENBQUMsZ0JBQWdCLENBQUMsS0FBSyxXQUFXLENBQUMsSUFBSSxDQUFDLENBQUMsT0FBTyxHQUFHLENBQUMsZ0JBQWdCLENBQUMsS0FBSyxRQUFRLENBQUMsRUFBRTtZQUNoRyxPQUFPLEtBQUssQ0FBQTtTQUNmO1FBQ0QsSUFBSSxDQUFDLE9BQU8sR0FBRyxDQUFDLFlBQVksQ0FBQyxLQUFLLFdBQVcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxPQUFPLEdBQUcsQ0FBQyxZQUFZLENBQUMsS0FBSyxTQUFTLElBQUksR0FBRyxDQUFDLFlBQVksQ0FBQyxZQUFZLE9BQU8sQ0FBQyxFQUFFO1lBQ2pJLE9BQU8sS0FBSyxDQUFBO1NBQ2Y7UUFDRCxJQUFJLENBQUMsT0FBTyxHQUFHLENBQUMsV0FBVyxDQUFDLEtBQUssV0FBVyxDQUFDLElBQUksQ0FBQyxDQUFDLHFDQUFxQyxDQUFDLGtCQUFrQixDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQyxFQUFFO1lBQ3JJLE9BQU8sS0FBSyxDQUFBO1NBQ2Y7UUFDRCxJQUFJLENBQUMsT0FBTyxHQUFHLENBQUMsaUJBQWlCLENBQUMsS0FBSyxXQUFXLENBQUMsSUFBSSxDQUFDLENBQUMsT0FBTyxHQUFHLENBQUMsaUJBQWlCLENBQUMsS0FBSyxRQUFRLElBQUksR0FBRyxDQUFDLGlCQUFpQixDQUFDLFlBQVksTUFBTSxDQUFDLEVBQUU7WUFDOUksT0FBTyxLQUFLLENBQUE7U0FDZjtRQUNELElBQUksQ0FBQyxPQUFPLEdBQUcsQ0FBQyxhQUFhLENBQUMsS0FBSyxXQUFXLENBQUMsSUFBSSxDQUFDLENBQUMscUNBQXFDLENBQUMsb0JBQW9CLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxhQUFhLENBQUMsQ0FBQyxDQUFDLEVBQUU7WUFDM0ksT0FBTyxLQUFLLENBQUE7U0FDZjtRQUNELElBQUksQ0FBQyxPQUFPLEdBQUcsQ0FBQyxZQUFZLENBQUMsS0FBSyxXQUFXLENBQUMsSUFBSSxDQUFDLENBQUMsT0FBTyxHQUFHLENBQUMsWUFBWSxDQUFDLEtBQUssUUFBUSxJQUFJLEdBQUcsQ0FBQyxZQUFZLENBQUMsWUFBWSxNQUFNLENBQUMsRUFBRTtZQUMvSCxPQUFPLEtBQUssQ0FBQTtTQUNmO1FBQ0QsSUFBSSxDQUFDLE9BQU8sR0FBRyxDQUFDLGNBQWMsQ0FBQyxLQUFLLFdBQVcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxPQUFPLEdBQUcsQ0FBQyxjQUFjLENBQUMsS0FBSyxRQUFRLElBQUksR0FBRyxDQUFDLGNBQWMsQ0FBQyxZQUFZLE1BQU0sQ0FBQyxFQUFFO1lBQ3JJLE9BQU8sS0FBSyxDQUFBO1NBQ2Y7UUFDRCxJQUFJLENBQUMsT0FBTyxHQUFHLENBQUMsbUJBQW1CLENBQUMsS0FBSyxXQUFXLENBQUMsSUFBSSxDQUFDLENBQUMscUNBQXFDLENBQUMsMEJBQTBCLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDLENBQUMsRUFBRTtZQUM3SixPQUFPLEtBQUssQ0FBQTtTQUNmO1FBQ0QsT0FBTyxJQUFJLENBQUE7SUFDZixDQUFDOztBQTlFTCxzRkErRUM7QUE5RW1CLDBEQUFvQixHQUFHLElBQUksa0NBQW9CLEVBQUUsQ0FBQTtBQUNqRCx3REFBa0IsR0FBRyxJQUFJLDhCQUFrQixFQUFFLENBQUE7QUFDN0MsK0RBQXlCLEdBQUcsSUFBSSw0Q0FBeUIsRUFBRSxDQUFBO0FBQzNELGlFQUEyQixHQUFHLElBQUksZ0RBQTJCLEVBQUUsQ0FBQTtBQUMvRCxtREFBYSxHQUFHLElBQUksb0JBQWEsRUFBRSxDQUFBO0FBQ25DLGdFQUEwQixHQUFHLElBQUksOENBQTBCLEVBQUUsQ0FBQSIsInNvdXJjZXNDb250ZW50IjpbIi8vIENvcHlyaWdodCAoYykgMjAyMyBBcHBsZSBJbmMuIExpY2Vuc2VkIHVuZGVyIE1JVCBMaWNlbnNlLlxuXG5pbXBvcnQgeyBEZWNvZGVkU2lnbmVkRGF0YSB9IGZyb20gXCIuL0RlY29kZWRTaWduZWREYXRhXCJcbmltcG9ydCB7IEVudmlyb25tZW50LCBFbnZpcm9ubWVudFZhbGlkYXRvciB9IGZyb20gXCIuL0Vudmlyb25tZW50XCJcbmltcG9ydCB7IEluQXBwT3duZXJzaGlwVHlwZSwgSW5BcHBPd25lcnNoaXBUeXBlVmFsaWRhdG9yIH0gZnJvbSBcIi4vSW5BcHBPd25lcnNoaXBUeXBlXCJcbmltcG9ydCB7IE9mZmVyVHlwZSwgT2ZmZXJUeXBlVmFsaWRhdG9yIH0gZnJvbSBcIi4vT2ZmZXJUeXBlXCJcbmltcG9ydCB7IFJldm9jYXRpb25SZWFzb24sIFJldm9jYXRpb25SZWFzb25WYWxpZGF0b3IgfSBmcm9tIFwiLi9SZXZvY2F0aW9uUmVhc29uXCJcbmltcG9ydCB7IFRyYW5zYWN0aW9uUmVhc29uLCBUcmFuc2FjdGlvblJlYXNvblZhbGlkYXRvciB9IGZyb20gXCIuL1RyYW5zYWN0aW9uUmVhc29uXCJcbmltcG9ydCB7IFR5cGUsIFR5cGVWYWxpZGF0b3IgfSBmcm9tIFwiLi9UeXBlXCJcbmltcG9ydCB7IFZhbGlkYXRvciB9IGZyb20gXCIuL1ZhbGlkYXRvclwiXG5cbi8qKlxuICogQSBkZWNvZGVkIHBheWxvYWQgY29udGFpbmluZyB0cmFuc2FjdGlvbiBpbmZvcm1hdGlvbi5cbiAqXG4gKiB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIuYXBwbGUuY29tL2RvY3VtZW50YXRpb24vYXBwc3RvcmVzZXJ2ZXJhcGkvandzdHJhbnNhY3Rpb25kZWNvZGVkcGF5bG9hZCBKV1NUcmFuc2FjdGlvbkRlY29kZWRQYXlsb2FkfVxuICovXG5leHBvcnQgaW50ZXJmYWNlIEpXU1RyYW5zYWN0aW9uRGVjb2RlZFBheWxvYWQgZXh0ZW5kcyBEZWNvZGVkU2lnbmVkRGF0YSB7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgb3JpZ2luYWwgdHJhbnNhY3Rpb24gaWRlbnRpZmllciBvZiBhIHB1cmNoYXNlLlxuICAgICAqXG4gICAgICoge0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLmFwcGxlLmNvbS9kb2N1bWVudGF0aW9uL2FwcHN0b3Jlc2VydmVyYXBpL29yaWdpbmFsdHJhbnNhY3Rpb25pZCBvcmlnaW5hbFRyYW5zYWN0aW9uSWR9XG4gICAgICoqL1xuICAgIG9yaWdpbmFsVHJhbnNhY3Rpb25JZD86IHN0cmluZ1xuICAgICAgICBcbiAgICAvKipcbiAgICAgKiBUaGUgdW5pcXVlIGlkZW50aWZpZXIgZm9yIGEgdHJhbnNhY3Rpb24gc3VjaCBhcyBhbiBpbi1hcHAgcHVyY2hhc2UsIHJlc3RvcmVkIGluLWFwcCBwdXJjaGFzZSwgb3Igc3Vic2NyaXB0aW9uIHJlbmV3YWwuXG4gICAgICpcbiAgICAgKiB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIuYXBwbGUuY29tL2RvY3VtZW50YXRpb24vYXBwc3RvcmVzZXJ2ZXJhcGkvdHJhbnNhY3Rpb25pZCB0cmFuc2FjdGlvbklkfVxuICAgICAqKi9cbiAgICB0cmFuc2FjdGlvbklkPzogc3RyaW5nXG4gICAgICAgIFxuICAgIC8qKlxuICAgICAqIFRoZSB1bmlxdWUgaWRlbnRpZmllciBvZiBzdWJzY3JpcHRpb24tcHVyY2hhc2UgZXZlbnRzIGFjcm9zcyBkZXZpY2VzLCBpbmNsdWRpbmcgcmVuZXdhbHMuXG4gICAgICpcbiAgICAgKiB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIuYXBwbGUuY29tL2RvY3VtZW50YXRpb24vYXBwc3RvcmVzZXJ2ZXJhcGkvd2Vib3JkZXJsaW5laXRlbWlkIHdlYk9yZGVyTGluZUl0ZW1JZH1cbiAgICAgKiovXG4gICAgd2ViT3JkZXJMaW5lSXRlbUlkPzogc3RyaW5nXG4gICAgICAgIFxuICAgIC8qKlxuICAgICAqIFRoZSBidW5kbGUgaWRlbnRpZmllciBvZiBhbiBhcHAuXG4gICAgICpcbiAgICAgKiB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIuYXBwbGUuY29tL2RvY3VtZW50YXRpb24vYXBwc3RvcmVzZXJ2ZXJhcGkvYnVuZGxlaWQgYnVuZGxlSWR9XG4gICAgICoqL1xuICAgIGJ1bmRsZUlkPzogc3RyaW5nXG4gICAgICAgIFxuICAgIC8qKlxuICAgICAqIFRoZSB1bmlxdWUgaWRlbnRpZmllciBmb3IgdGhlIHByb2R1Y3QsIHRoYXQgeW91IGNyZWF0ZSBpbiBBcHAgU3RvcmUgQ29ubmVjdC5cbiAgICAgKlxuICAgICAqIHtAbGluayBodHRwczovL2RldmVsb3Blci5hcHBsZS5jb20vZG9jdW1lbnRhdGlvbi9hcHBzdG9yZXNlcnZlcmFwaS9wcm9kdWN0aWQgcHJvZHVjdElkfVxuICAgICAqKi9cbiAgICBwcm9kdWN0SWQ/OiBzdHJpbmdcbiAgICAgICAgXG4gICAgLyoqXG4gICAgICogVGhlIGlkZW50aWZpZXIgb2YgdGhlIHN1YnNjcmlwdGlvbiBncm91cCB0aGF0IHRoZSBzdWJzY3JpcHRpb24gYmVsb25ncyB0by5cbiAgICAgKlxuICAgICAqIHtAbGluayBodHRwczovL2RldmVsb3Blci5hcHBsZS5jb20vZG9jdW1lbnRhdGlvbi9hcHBzdG9yZXNlcnZlcmFwaS9zdWJzY3JpcHRpb25ncm91cGlkZW50aWZpZXIgc3Vic2NyaXB0aW9uR3JvdXBJZGVudGlmaWVyfVxuICAgICAqKi9cbiAgICBzdWJzY3JpcHRpb25Hcm91cElkZW50aWZpZXI/OiBzdHJpbmdcblxuICAgIC8qKlxuICAgICAqIFRoZSB0aW1lIHRoYXQgdGhlIEFwcCBTdG9yZSBjaGFyZ2VkIHRoZSB1c2Vy4oCZcyBhY2NvdW50IGZvciBhbiBpbi1hcHAgcHVyY2hhc2UsIGEgcmVzdG9yZWQgaW4tYXBwIHB1cmNoYXNlLCBhIHN1YnNjcmlwdGlvbiwgb3IgYSBzdWJzY3JpcHRpb24gcmVuZXdhbCBhZnRlciBhIGxhcHNlLlxuICAgICAqXG4gICAgICoge0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLmFwcGxlLmNvbS9kb2N1bWVudGF0aW9uL2FwcHN0b3Jlc2VydmVyYXBpL3B1cmNoYXNlZGF0ZSBwdXJjaGFzZURhdGV9XG4gICAgICoqL1xuICAgIHB1cmNoYXNlRGF0ZT86IG51bWJlclxuXG4gICAgLyoqXG4gICAgICogVGhlIHB1cmNoYXNlIGRhdGUgb2YgdGhlIHRyYW5zYWN0aW9uIGFzc29jaWF0ZWQgd2l0aCB0aGUgb3JpZ2luYWwgdHJhbnNhY3Rpb24gaWRlbnRpZmllci5cbiAgICAgKlxuICAgICAqIHtAbGluayBodHRwczovL2RldmVsb3Blci5hcHBsZS5jb20vZG9jdW1lbnRhdGlvbi9hcHBzdG9yZXNlcnZlcmFwaS9vcmlnaW5hbHB1cmNoYXNlZGF0ZSBvcmlnaW5hbFB1cmNoYXNlRGF0ZX1cbiAgICAgKiovXG4gICAgb3JpZ2luYWxQdXJjaGFzZURhdGU/OiBudW1iZXJcbiAgICAgICAgXG4gICAgLyoqXG4gICAgICogVGhlIFVOSVggdGltZSwgaW4gbWlsbGlzZWNvbmRzLCBhbiBhdXRvLXJlbmV3YWJsZSBzdWJzY3JpcHRpb24gZXhwaXJlcyBvciByZW5ld3MuXG4gICAgICpcbiAgICAgKiB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIuYXBwbGUuY29tL2RvY3VtZW50YXRpb24vYXBwc3RvcmVzZXJ2ZXJhcGkvZXhwaXJlc2RhdGUgZXhwaXJlc0RhdGV9XG4gICAgICoqL1xuICAgIGV4cGlyZXNEYXRlPzogbnVtYmVyXG4gICAgICAgIFxuICAgIC8qKlxuICAgICAqIFRoZSBudW1iZXIgb2YgY29uc3VtYWJsZSBwcm9kdWN0cyBwdXJjaGFzZWQuXG4gICAgICpcbiAgICAgKiB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIuYXBwbGUuY29tL2RvY3VtZW50YXRpb24vYXBwc3RvcmVzZXJ2ZXJhcGkvcXVhbnRpdHkgcXVhbnRpdHl9XG4gICAgICoqL1xuICAgIHF1YW50aXR5PzogbnVtYmVyXG4gICAgICAgIFxuICAgIC8qKlxuICAgICAqIFRoZSB0eXBlIG9mIHRoZSBpbi1hcHAgcHVyY2hhc2UuXG4gICAgICpcbiAgICAgKiB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIuYXBwbGUuY29tL2RvY3VtZW50YXRpb24vYXBwc3RvcmVzZXJ2ZXJhcGkvdHlwZSB0eXBlfVxuICAgICAqKi9cbiAgICB0eXBlPzogVHlwZVxuICAgICAgICBcbiAgICAvKipcbiAgICAgKiBUaGUgVVVJRCB0aGF0IGFuIGFwcCBvcHRpb25hbGx5IGdlbmVyYXRlcyB0byBtYXAgYSBjdXN0b21lcuKAmXMgaW4tYXBwIHB1cmNoYXNlIHdpdGggaXRzIHJlc3VsdGluZyBBcHAgU3RvcmUgdHJhbnNhY3Rpb24uXG4gICAgICpcbiAgICAgKiB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIuYXBwbGUuY29tL2RvY3VtZW50YXRpb24vYXBwc3RvcmVzZXJ2ZXJhcGkvYXBwYWNjb3VudHRva2VuIGFwcEFjY291bnRUb2tlbn1cbiAgICAgKiovXG4gICAgYXBwQWNjb3VudFRva2VuPzogc3RyaW5nXG4gICAgICAgIFxuICAgIC8qKlxuICAgICAqIEEgc3RyaW5nIHRoYXQgZGVzY3JpYmVzIHdoZXRoZXIgdGhlIHRyYW5zYWN0aW9uIHdhcyBwdXJjaGFzZWQgYnkgdGhlIHVzZXIsIG9yIGlzIGF2YWlsYWJsZSB0byB0aGVtIHRocm91Z2ggRmFtaWx5IFNoYXJpbmcuXG4gICAgICpcbiAgICAgKiB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIuYXBwbGUuY29tL2RvY3VtZW50YXRpb24vYXBwc3RvcmVzZXJ2ZXJhcGkvaW5hcHBvd25lcnNoaXB0eXBlIGluQXBwT3duZXJzaGlwVHlwZX1cbiAgICAgKiovXG4gICAgaW5BcHBPd25lcnNoaXBUeXBlPzogSW5BcHBPd25lcnNoaXBUeXBlXG4gICAgICAgIFxuICAgIC8qKlxuICAgICAqIFRoZSBVTklYIHRpbWUsIGluIG1pbGxpc2Vjb25kcywgdGhhdCB0aGUgQXBwIFN0b3JlIHNpZ25lZCB0aGUgSlNPTiBXZWIgU2lnbmF0dXJlIGRhdGEuXG4gICAgICpcbiAgICAgKiB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIuYXBwbGUuY29tL2RvY3VtZW50YXRpb24vYXBwc3RvcmVzZXJ2ZXJhcGkvc2lnbmVkZGF0ZSBzaWduZWREYXRlfVxuICAgICAqKi9cbiAgICBzaWduZWREYXRlPzogbnVtYmVyXG4gICAgICAgIFxuICAgIC8qKlxuICAgICAqIFRoZSByZWFzb24gdGhhdCB0aGUgQXBwIFN0b3JlIHJlZnVuZGVkIHRoZSB0cmFuc2FjdGlvbiBvciByZXZva2VkIGl0IGZyb20gZmFtaWx5IHNoYXJpbmcuXG4gICAgICpcbiAgICAgKiB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIuYXBwbGUuY29tL2RvY3VtZW50YXRpb24vYXBwc3RvcmVzZXJ2ZXJhcGkvcmV2b2NhdGlvbnJlYXNvbiByZXZvY2F0aW9uUmVhc29ufVxuICAgICAqKi9cbiAgICByZXZvY2F0aW9uUmVhc29uPzogUmV2b2NhdGlvblJlYXNvblxuICAgICAgICBcbiAgICAvKipcbiAgICAgKiBUaGUgVU5JWCB0aW1lLCBpbiBtaWxsaXNlY29uZHMsIHRoYXQgQXBwbGUgU3VwcG9ydCByZWZ1bmRlZCBhIHRyYW5zYWN0aW9uLlxuICAgICAqXG4gICAgICoge0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLmFwcGxlLmNvbS9kb2N1bWVudGF0aW9uL2FwcHN0b3Jlc2VydmVyYXBpL3Jldm9jYXRpb25kYXRlIHJldm9jYXRpb25EYXRlfVxuICAgICAqKi9cbiAgICByZXZvY2F0aW9uRGF0ZT86IG51bWJlclxuICAgICAgICBcbiAgICAvKipcbiAgICAgKiBUaGUgQm9vbGVhbiB2YWx1ZSB0aGF0IGluZGljYXRlcyB3aGV0aGVyIHRoZSB1c2VyIHVwZ3JhZGVkIHRvIGFub3RoZXIgc3Vic2NyaXB0aW9uLlxuICAgICAqXG4gICAgICoge0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLmFwcGxlLmNvbS9kb2N1bWVudGF0aW9uL2FwcHN0b3Jlc2VydmVyYXBpL2lzdXBncmFkZWQgaXNVcGdyYWRlZH1cbiAgICAgKiovXG4gICAgaXNVcGdyYWRlZD86IGJvb2xlYW5cblxuICAgIC8qKlxuICAgICAqIEEgdmFsdWUgdGhhdCByZXByZXNlbnRzIHRoZSBwcm9tb3Rpb25hbCBvZmZlciB0eXBlLlxuICAgICAqXG4gICAgICoge0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLmFwcGxlLmNvbS9kb2N1bWVudGF0aW9uL2FwcHN0b3Jlc2VydmVyYXBpL29mZmVydHlwZSBvZmZlclR5cGV9XG4gICAgICoqL1xuICAgIG9mZmVyVHlwZT86IE9mZmVyVHlwZVxuICAgICAgICBcbiAgICAvKipcbiAgICAgKiBUaGUgaWRlbnRpZmllciB0aGF0IGNvbnRhaW5zIHRoZSBwcm9tbyBjb2RlIG9yIHRoZSBwcm9tb3Rpb25hbCBvZmZlciBpZGVudGlmaWVyLlxuICAgICAqXG4gICAgICoge0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLmFwcGxlLmNvbS9kb2N1bWVudGF0aW9uL2FwcHN0b3Jlc2VydmVyYXBpL29mZmVyaWRlbnRpZmllciBvZmZlcklkZW50aWZpZXJ9XG4gICAgICoqL1xuICAgIG9mZmVySWRlbnRpZmllcj86IHN0cmluZ1xuICAgICAgICBcbiAgICAvKipcbiAgICAgKiBUaGUgc2VydmVyIGVudmlyb25tZW50LCBlaXRoZXIgc2FuZGJveCBvciBwcm9kdWN0aW9uLlxuICAgICAqXG4gICAgICoge0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLmFwcGxlLmNvbS9kb2N1bWVudGF0aW9uL2FwcHN0b3Jlc2VydmVyYXBpL2Vudmlyb25tZW50IGVudmlyb25tZW50fVxuICAgICAqKi9cbiAgICBlbnZpcm9ubWVudD86IEVudmlyb25tZW50XG5cbiAgICAvKipcbiAgICAgKiBUaGUgdGhyZWUtbGV0dGVyIGNvZGUgdGhhdCByZXByZXNlbnRzIHRoZSBjb3VudHJ5IG9yIHJlZ2lvbiBhc3NvY2lhdGVkIHdpdGggdGhlIEFwcCBTdG9yZSBzdG9yZWZyb250IGZvciB0aGUgcHVyY2hhc2UuXG4gICAgICpcbiAgICAgKiB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIuYXBwbGUuY29tL2RvY3VtZW50YXRpb24vYXBwc3RvcmVzZXJ2ZXJhcGkvc3RvcmVmcm9udCBzdG9yZWZyb250fVxuICAgICAqKi9cbiAgICBzdG9yZWZyb250Pzogc3RyaW5nXG5cbiAgICAvKipcbiAgICAgKiBBbiBBcHBsZS1kZWZpbmVkIHZhbHVlIHRoYXQgdW5pcXVlbHkgaWRlbnRpZmllcyB0aGUgQXBwIFN0b3JlIHN0b3JlZnJvbnQgYXNzb2NpYXRlZCB3aXRoIHRoZSBwdXJjaGFzZS5cbiAgICAgKlxuICAgICAqIHtAbGluayBodHRwczovL2RldmVsb3Blci5hcHBsZS5jb20vZG9jdW1lbnRhdGlvbi9hcHBzdG9yZXNlcnZlcmFwaS9zdG9yZWZyb250aWQgc3RvcmVmcm9udElkfVxuICAgICAqKi9cbiAgICBzdG9yZWZyb250SWQ/OiBzdHJpbmdcblxuICAgIC8qKlxuICAgICAqIFRoZSByZWFzb24gZm9yIHRoZSBwdXJjaGFzZSB0cmFuc2FjdGlvbiwgd2hpY2ggaW5kaWNhdGVzIHdoZXRoZXIgaXTigJlzIGEgY3VzdG9tZXLigJlzIHB1cmNoYXNlIG9yIGEgcmVuZXdhbCBmb3IgYW4gYXV0by1yZW5ld2FibGUgc3Vic2NyaXB0aW9uIHRoYXQgdGhlIHN5c3RlbSBpbml0YXRlcy5cbiAgICAgKlxuICAgICAqIHtAbGluayBodHRwczovL2RldmVsb3Blci5hcHBsZS5jb20vZG9jdW1lbnRhdGlvbi9hcHBzdG9yZXNlcnZlcmFwaS90cmFuc2FjdGlvbnJlYXNvbiB0cmFuc2FjdGlvblJlYXNvbn1cbiAgICAgKiovXG4gICAgdHJhbnNhY3Rpb25SZWFzb24/OiBUcmFuc2FjdGlvblJlYXNvblxufVxuXG5cbmV4cG9ydCBjbGFzcyBKV1NUcmFuc2FjdGlvbkRlY29kZWRQYXlsb2FkVmFsaWRhdG9yIGltcGxlbWVudHMgVmFsaWRhdG9yPEpXU1RyYW5zYWN0aW9uRGVjb2RlZFBheWxvYWQ+IHtcbiAgICBzdGF0aWMgcmVhZG9ubHkgZW52aXJvbm1lbnRWYWxpZGF0b3IgPSBuZXcgRW52aXJvbm1lbnRWYWxpZGF0b3IoKVxuICAgIHN0YXRpYyByZWFkb25seSBvZmZlclR5cGVWYWxpZGF0b3IgPSBuZXcgT2ZmZXJUeXBlVmFsaWRhdG9yKClcbiAgICBzdGF0aWMgcmVhZG9ubHkgcmV2b2NhdGlvblJlYXNvblZhbGlkYXRvciA9IG5ldyBSZXZvY2F0aW9uUmVhc29uVmFsaWRhdG9yKClcbiAgICBzdGF0aWMgcmVhZG9ubHkgaW5BcHBPd25lcnNoaXBUeXBlVmFsaWRhdG9yID0gbmV3IEluQXBwT3duZXJzaGlwVHlwZVZhbGlkYXRvcigpXG4gICAgc3RhdGljIHJlYWRvbmx5IHR5cGVWYWxpZGF0b3IgPSBuZXcgVHlwZVZhbGlkYXRvcigpXG4gICAgc3RhdGljIHJlYWRvbmx5IHRyYW5zYWN0aW9uUmVhc29uVmFsaWRhdG9yID0gbmV3IFRyYW5zYWN0aW9uUmVhc29uVmFsaWRhdG9yKClcbiAgICB2YWxpZGF0ZShvYmo6IGFueSk6IG9iaiBpcyBKV1NUcmFuc2FjdGlvbkRlY29kZWRQYXlsb2FkIHtcbiAgICAgICAgaWYgKCh0eXBlb2Ygb2JqWydvcmlnaW5hbFRyYW5zYWN0aW9uSWQnXSAhPT0gJ3VuZGVmaW5lZCcpICYmICEodHlwZW9mIG9ialsnb3JpZ2luYWxUcmFuc2FjdGlvbklkJ10gPT09IFwic3RyaW5nXCIgfHwgb2JqWydvcmlnaW5hbFRyYW5zYWN0aW9uSWQnXSBpbnN0YW5jZW9mIFN0cmluZykpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgICB9XG4gICAgICAgIGlmICgodHlwZW9mIG9ialsndHJhbnNhY3Rpb25JZCddICE9PSAndW5kZWZpbmVkJykgJiYgISh0eXBlb2Ygb2JqWyd0cmFuc2FjdGlvbklkJ10gPT09IFwic3RyaW5nXCIgfHwgb2JqWyd0cmFuc2FjdGlvbklkJ10gaW5zdGFuY2VvZiBTdHJpbmcpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgICAgfVxuICAgICAgICBpZiAoKHR5cGVvZiBvYmpbJ3dlYk9yZGVyTGluZUl0ZW1JZCddICE9PSAndW5kZWZpbmVkJykgJiYgISh0eXBlb2Ygb2JqWyd3ZWJPcmRlckxpbmVJdGVtSWQnXSA9PT0gXCJzdHJpbmdcIiB8fCBvYmpbJ3dlYk9yZGVyTGluZUl0ZW1JZCddIGluc3RhbmNlb2YgU3RyaW5nKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgIH1cbiAgICAgICAgaWYgKCh0eXBlb2Ygb2JqWydidW5kbGVJZCddICE9PSAndW5kZWZpbmVkJykgJiYgISh0eXBlb2Ygb2JqWydidW5kbGVJZCddID09PSBcInN0cmluZ1wiIHx8IG9ialsnYnVuZGxlSWQnXSBpbnN0YW5jZW9mIFN0cmluZykpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgICB9XG4gICAgICAgIGlmICgodHlwZW9mIG9ialsncHJvZHVjdElkJ10gIT09ICd1bmRlZmluZWQnKSAmJiAhKHR5cGVvZiBvYmpbJ3Byb2R1Y3RJZCddID09PSBcInN0cmluZ1wiIHx8IG9ialsncHJvZHVjdElkJ10gaW5zdGFuY2VvZiBTdHJpbmcpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgICAgfVxuICAgICAgICBpZiAoKHR5cGVvZiBvYmpbJ3N1YnNjcmlwdGlvbkdyb3VwSWRlbnRpZmllciddICE9PSAndW5kZWZpbmVkJykgJiYgISh0eXBlb2Ygb2JqWydzdWJzY3JpcHRpb25Hcm91cElkZW50aWZpZXInXSA9PT0gXCJzdHJpbmdcIiB8fCBvYmpbJ3N1YnNjcmlwdGlvbkdyb3VwSWRlbnRpZmllciddIGluc3RhbmNlb2YgU3RyaW5nKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgIH1cbiAgICAgICAgaWYgKCh0eXBlb2Ygb2JqWydwdXJjaGFzZURhdGUnXSAhPT0gJ3VuZGVmaW5lZCcpICYmICEodHlwZW9mIG9ialsncHVyY2hhc2VEYXRlJ10gPT09IFwibnVtYmVyXCIpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgICAgfVxuICAgICAgICBpZiAoKHR5cGVvZiBvYmpbJ29yaWdpbmFsUHVyY2hhc2VEYXRlJ10gIT09ICd1bmRlZmluZWQnKSAmJiAhKHR5cGVvZiBvYmpbJ29yaWdpbmFsUHVyY2hhc2VEYXRlJ10gPT09IFwibnVtYmVyXCIpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgICAgfVxuICAgICAgICBpZiAoKHR5cGVvZiBvYmpbJ2V4cGlyZXNEYXRlJ10gIT09ICd1bmRlZmluZWQnKSAmJiAhKHR5cGVvZiBvYmpbJ2V4cGlyZXNEYXRlJ10gPT09IFwibnVtYmVyXCIpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgICAgfVxuICAgICAgICBpZiAoKHR5cGVvZiBvYmpbJ3F1YW50aXR5J10gIT09ICd1bmRlZmluZWQnKSAmJiAhKHR5cGVvZiBvYmpbJ3F1YW50aXR5J10gPT09ICdudW1iZXInKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgIH1cbiAgICAgICAgaWYgKCh0eXBlb2Ygb2JqWyd0eXBlJ10gIT09ICd1bmRlZmluZWQnKSAmJiAhKEpXU1RyYW5zYWN0aW9uRGVjb2RlZFBheWxvYWRWYWxpZGF0b3IudHlwZVZhbGlkYXRvci52YWxpZGF0ZShvYmpbJ3R5cGUnXSkpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgICAgfVxuICAgICAgICBpZiAoKHR5cGVvZiBvYmpbJ2FwcEFjY291bnRUb2tlbiddICE9PSAndW5kZWZpbmVkJykgJiYgISh0eXBlb2Ygb2JqWydhcHBBY2NvdW50VG9rZW4nXSA9PT0gXCJzdHJpbmdcIiB8fCBvYmpbJ2FwcEFjY291bnRUb2tlbiddIGluc3RhbmNlb2YgU3RyaW5nKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgIH1cbiAgICAgICAgaWYgKCh0eXBlb2Ygb2JqWydpbkFwcE93bmVyc2hpcFR5cGUnXSAhPT0gJ3VuZGVmaW5lZCcpICYmICEoSldTVHJhbnNhY3Rpb25EZWNvZGVkUGF5bG9hZFZhbGlkYXRvci5pbkFwcE93bmVyc2hpcFR5cGVWYWxpZGF0b3IudmFsaWRhdGUob2JqWydpbkFwcE93bmVyc2hpcFR5cGUnXSkpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgICAgfVxuICAgICAgICBpZiAoKHR5cGVvZiBvYmpbJ3NpZ25lZERhdGUnXSAhPT0gJ3VuZGVmaW5lZCcpICYmICEodHlwZW9mIG9ialsnc2lnbmVkRGF0ZSddID09PSBcIm51bWJlclwiKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgIH1cbiAgICAgICAgaWYgKCh0eXBlb2Ygb2JqWydyZXZvY2F0aW9uUmVhc29uJ10gIT09ICd1bmRlZmluZWQnKSAmJiAhKEpXU1RyYW5zYWN0aW9uRGVjb2RlZFBheWxvYWRWYWxpZGF0b3IucmV2b2NhdGlvblJlYXNvblZhbGlkYXRvci52YWxpZGF0ZShvYmpbJ3Jldm9jYXRpb25SZWFzb24nXSkpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgICAgfVxuICAgICAgICBpZiAoKHR5cGVvZiBvYmpbJ3Jldm9jYXRpb25EYXRlJ10gIT09ICd1bmRlZmluZWQnKSAmJiAhKHR5cGVvZiBvYmpbJ3Jldm9jYXRpb25EYXRlJ10gPT09IFwibnVtYmVyXCIpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgICAgfVxuICAgICAgICBpZiAoKHR5cGVvZiBvYmpbJ2lzVXBncmFkZWQnXSAhPT0gJ3VuZGVmaW5lZCcpICYmICEodHlwZW9mIG9ialsnaXNVcGdyYWRlZCddID09PSBcImJvb2xlYW5cIiB8fCBvYmpbJ2lzVXBncmFkZWQnXSBpbnN0YW5jZW9mIEJvb2xlYW4pKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgICAgfVxuICAgICAgICBpZiAoKHR5cGVvZiBvYmpbJ29mZmVyVHlwZSddICE9PSAndW5kZWZpbmVkJykgJiYgIShKV1NUcmFuc2FjdGlvbkRlY29kZWRQYXlsb2FkVmFsaWRhdG9yLm9mZmVyVHlwZVZhbGlkYXRvci52YWxpZGF0ZShvYmpbJ29mZmVyVHlwZSddKSkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgICB9XG4gICAgICAgIGlmICgodHlwZW9mIG9ialsnb2ZmZXJJZGVudGlmaWVyJ10gIT09ICd1bmRlZmluZWQnKSAmJiAhKHR5cGVvZiBvYmpbJ29mZmVySWRlbnRpZmllciddID09PSBcInN0cmluZ1wiIHx8IG9ialsnb2ZmZXJJZGVudGlmaWVyJ10gaW5zdGFuY2VvZiBTdHJpbmcpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgICAgfVxuICAgICAgICBpZiAoKHR5cGVvZiBvYmpbJ2Vudmlyb25tZW50J10gIT09ICd1bmRlZmluZWQnKSAmJiAhKEpXU1RyYW5zYWN0aW9uRGVjb2RlZFBheWxvYWRWYWxpZGF0b3IuZW52aXJvbm1lbnRWYWxpZGF0b3IudmFsaWRhdGUob2JqWydlbnZpcm9ubWVudCddKSkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgICB9XG4gICAgICAgIGlmICgodHlwZW9mIG9ialsnc3RvcmVmcm9udCddICE9PSAndW5kZWZpbmVkJykgJiYgISh0eXBlb2Ygb2JqWydzdG9yZWZyb250J10gPT09IFwic3RyaW5nXCIgfHwgb2JqWydzdG9yZWZyb250J10gaW5zdGFuY2VvZiBTdHJpbmcpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgICAgfVxuICAgICAgICBpZiAoKHR5cGVvZiBvYmpbJ3N0b3JlZnJvbnRJZCddICE9PSAndW5kZWZpbmVkJykgJiYgISh0eXBlb2Ygb2JqWydzdG9yZWZyb250SWQnXSA9PT0gXCJzdHJpbmdcIiB8fCBvYmpbJ3N0b3JlZnJvbnRJZCddIGluc3RhbmNlb2YgU3RyaW5nKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgIH1cbiAgICAgICAgaWYgKCh0eXBlb2Ygb2JqWyd0cmFuc2FjdGlvblJlYXNvbiddICE9PSAndW5kZWZpbmVkJykgJiYgIShKV1NUcmFuc2FjdGlvbkRlY29kZWRQYXlsb2FkVmFsaWRhdG9yLnRyYW5zYWN0aW9uUmVhc29uVmFsaWRhdG9yLnZhbGlkYXRlKG9ialsndHJhbnNhY3Rpb25SZWFzb24nXSkpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZVxuICAgIH1cbn1cbiJdfQ==